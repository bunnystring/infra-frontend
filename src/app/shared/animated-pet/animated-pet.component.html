<div class="flex flex-col items-center gap-3 w-[140px] mx-auto mb-6">

  <!-- Robot Container -->
  <div class="relative w-[120px] h-[140px]">

    <!-- Manos (brazos) -->
    <div class="absolute inset-0 flex items-end justify-center pointer-events-none">
      <!-- Brazo Izquierdo -->
      <div class="absolute bottom-0 left-2 w-8 h-16 flex flex-col items-center transition-all duration-500 ease-out origin-bottom"
           [style.transform]="isPasswordFocused ? 'translateY(-55px) rotate(-15deg)' : 'translateY(0) rotate(0deg)'">
        <div class="w-1.5 h-10 bg-gradient-to-b from-primary to-secondary rounded-full"></div>
        <div class="w-6 h-6 bg-gradient-to-br from-primary to-secondary rounded-full shadow-lg mt-1">
          <!-- Dedos simplificados -->
          <div class="absolute -top-1 left-1 w-1 h-2 bg-primary/80 rounded-full"></div>
          <div class="absolute -top-1 left-3 w-1 h-2 bg-primary/80 rounded-full"></div>
        </div>
      </div>

      <!-- Brazo Derecho -->
      <div class="absolute bottom-0 right-2 w-8 h-16 flex flex-col items-center transition-all duration-500 ease-out origin-bottom"
           [style.transform]="isPasswordFocused ? 'translateY(-55px) rotate(15deg)' : 'translateY(0) rotate(0deg)'">
        <div class="w-1.5 h-10 bg-gradient-to-b from-primary to-secondary rounded-full"></div>
        <div class="w-6 h-6 bg-gradient-to-br from-primary to-secondary rounded-full shadow-lg mt-1">
          <!-- Dedos simplificados -->
          <div class="absolute -top-1 left-2 w-1 h-2 bg-primary/80 rounded-full"></div>
          <div class="absolute -top-1 left-4 w-1 h-2 bg-primary/80 rounded-full"></div>
        </div>
      </div>
    </div>

    <!-- Cabeza/Cara Principal -->
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[100px] h-[100px] rounded-2xl bg-gradient-to-br from-primary via-secondary to-accent shadow-xl shadow-primary/20 transition-all duration-300">

      <!-- Decorative dots -->
      <div class="absolute top-3 left-3 w-2 h-2 bg-white/30 rounded-full"></div>
      <div class="absolute top-3 right-3 w-2 h-2 bg-white/30 rounded-full"></div>

      <!-- Display Screen -->
      <div class="absolute inset-3 bg-base-100/10 backdrop-blur-sm rounded-xl border border-white/20 flex flex-col items-center justify-center overflow-hidden">

        <!-- Normal Mode: Eyes -->
        <ng-container *ngIf="!isPasswordFocused">
          <div class="flex gap-5 mb-2 transition-all duration-150" [class.opacity-0]="isBlinking">
            <!-- Left Eye -->
            <div class="relative w-6 h-6 bg-white rounded-lg shadow-inner overflow-hidden">
              <div class="absolute w-3 h-3 bg-gradient-to-br from-slate-700 to-slate-900 rounded-md top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 transition-transform duration-150"
                   [style.transform]="'translate(calc(-50% + ' + (eyePositionX * 0.3) + 'px), calc(-50% + ' + (eyePositionY * 0.3) + 'px))'">
                <div class="absolute top-0.5 left-0.5 w-1 h-1 bg-white rounded-full"></div>
              </div>
            </div>

            <!-- Right Eye -->
            <div class="relative w-6 h-6 bg-white rounded-lg shadow-inner overflow-hidden">
              <div class="absolute w-3 h-3 bg-gradient-to-br from-slate-700 to-slate-900 rounded-md top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 transition-transform duration-150"
                   [style.transform]="'translate(calc(-50% + ' + (eyePositionX * 0.3) + 'px), calc(-50% + ' + (eyePositionY * 0.3) + 'px))'">
                <div class="absolute top-0.5 left-0.5 w-1 h-1 bg-white rounded-full"></div>
              </div>
            </div>
          </div>

          <!-- Blink Lines -->
          <div *ngIf="isBlinking" class="flex gap-5 mb-2">
            <div class="w-6 h-0.5 bg-white/60 rounded-full"></div>
            <div class="w-6 h-0.5 bg-white/60 rounded-full"></div>
          </div>

          <!-- Smile -->
          <div class="w-8 h-1 bg-white/60 rounded-full"></div>
        </ng-container>

        <!-- Private Mode: Ojos cerrados (tapados) -->
        <ng-container *ngIf="isPasswordFocused">
          <div class="flex gap-5 mb-2 animate-fade-in">
            <!-- Ojos cerrados (lÃ­neas) -->
            <div class="w-6 h-1 bg-white/80 rounded-full"></div>
            <div class="w-6 h-1 bg-white/80 rounded-full"></div>
          </div>
          <!-- Boca avergonzada -->
          <div class="w-6 h-1 bg-white/60 rounded-full mt-2"></div>
        </ng-container>

      </div>

      <!-- LED Indicators -->
      <div class="absolute bottom-2 left-2 w-1 h-1 rounded-full transition-colors"
           [ngClass]="isPasswordFocused ? 'bg-warning' : 'bg-success animate-pulse'"></div>
      <div class="absolute bottom-2 right-2 w-1 h-1 rounded-full transition-colors"
           [ngClass]="isPasswordFocused ? 'bg-warning' : 'bg-success animate-pulse'"></div>
    </div>

  </div>

  <!-- Status Indicator -->
  <div class="flex items-center gap-2 text-xs transition-all duration-300"
       [ngClass]="isPasswordFocused ? 'text-warning' : 'text-base-content/60'">
    <div class="w-1.5 h-1.5 rounded-full transition-colors"
         [ngClass]="isPasswordFocused ? 'bg-warning animate-pulse' : 'bg-success animate-pulse'"></div>
    <span *ngIf="!isPasswordFocused">Observando escritura</span>
    <span *ngIf="isPasswordFocused">Modo privado activo</span>
  </div>

</div>
